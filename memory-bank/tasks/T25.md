# T25: OpenAlex Database Integration
*Created: 2025-05-26 16:30*
*Last Updated: 2025-05-26 16:30*

## Overview
**Status**: ⬜ Not Started
**Priority**: HIGH
**Started**: -
**Dependencies**: None

## Description
Integrate OpenAlex academic database to expand paper discovery beyond arXiv preprints, providing access to 250M+ published works with citation data and broader disciplinary coverage. This will transform Arxivite from an arXiv-focused tool to a comprehensive academic search platform.

## Completion Criteria

### Phase 1: Core OpenAlex Integration
- ⬜ Implement OpenAlex API client with rate limiting
- ⬜ Create OpenAlex-specific type definitions
- ⬜ Build React hook for OpenAlex operations
- ⬜ Extend Paper interface for unified data model
- ⬜ Create data mapping utilities (OpenAlex → Paper)

### Phase 2: Unified Search Architecture
- ⬜ Build multi-source search orchestration
- ⬜ Implement source abstraction layer
- ⬜ Create result normalization system
- ⬜ Add basic deduplication (DOI/title matching)
- ⬜ Configure source selection options

### Phase 3: UI Integration
- ⬜ Add database selector to search filters
- ⬜ Display source badges on paper cards
- ⬜ Show citation counts and impact metrics
- ⬜ Add venue information display
- ⬜ Implement open access indicators

### Phase 4: Advanced Features
- ⬜ Cross-reference arXiv preprints with published versions
- ⬜ Add citation-based sorting and filtering
- ⬜ Implement related papers via citations
- ⬜ Add venue type filtering
- ⬜ Create subject area clustering

## Implementation Plan

### Week 1: Foundation
1. **API Client Development**
   - OpenAlex REST API integration
   - Rate limiting (10 req/sec)
   - Error handling and retries
   - Response caching

2. **Data Model Extension**
   - Unified Paper interface
   - Source differentiation
   - Citation metadata
   - Venue information

3. **Search Architecture**
   - Multi-source orchestration
   - Result normalization
   - Basic deduplication
   - Source selection

### Week 2: UI and Polish
1. **User Interface Updates**
   - Database source selector
   - Enhanced paper cards
   - Citation display
   - Source indicators

2. **Advanced Features**
   - Citation-based features
   - Cross-source linking
   - Enhanced filtering
   - Performance optimization

## Files

### New Files
- `src/lib/openalex.ts` - OpenAlex API client
- `src/types/openalex.ts` - OpenAlex-specific types
- `src/hooks/useOpenAlex.ts` - React hook for OpenAlex
- `src/lib/unifiedSearch.ts` - Multi-source search orchestration
- `src/types/search.ts` - Unified search types
- `src/lib/paperUtils.ts` - Paper utility functions
- `src/components/papers/citation-info.tsx` - Citation metrics
- `src/components/papers/venue-info.tsx` - Venue details
- `src/components/papers/source-badge.tsx` - Source indicators

### Modified Files
- `src/types/paper.ts` - Extended Paper interface
- `src/components/papers/paper-filters.tsx` - Database selector
- `src/components/papers/paper-card.tsx` - Source badges & citations
- `src/components/papers/paper-table-row.tsx` - Additional metadata
- `src/pages/search.tsx` - Unified search integration
- `src/hooks/useArxiv.ts` - Adapt for unified interface
- `src/config/search.ts` - Multi-source configuration

## Technical Specifications

### API Integration
```typescript
// OpenAlex API client structure
class OpenAlexClient {
  private baseURL = 'https://api.openalex.org';
  private rateLimiter: RateLimiter; // 10 req/sec
  
  async searchWorks(query: string, options?: SearchOptions): Promise<OpenAlexResponse>
  async getWork(id: string): Promise<OpenAlexWork>
  async getAuthor(id: string): Promise<OpenAlexAuthor>
  async getVenue(id: string): Promise<OpenAlexVenue>
}
```

### Data Model Extension
```typescript
interface Paper {
  // Existing fields...
  source: 'arxiv' | 'openalex';
  doi?: string;
  citationCount?: number;
  venue?: {
    name: string;
    type: 'journal' | 'conference' | 'repository';
  };
  openAccess?: {
    isOa: boolean;
    oaUrl?: string;
  };
  concepts?: Array<{
    displayName: string;
    level: number;
    score: number;
  }>;
}
```

### Search Configuration
```typescript
export const SEARCH_SOURCES = {
  arxiv: {
    name: 'arXiv',
    description: 'Physics, Mathematics, Computer Science preprints',
    enabled: true,
  },
  openalex: {
    name: 'OpenAlex', 
    description: 'Published academic papers across all disciplines',
    enabled: true,
  },
} as const;
```

## Progress Tracking

### Phase 1: Core Integration (0%)
1. ⬜ OpenAlex API client implementation
2. ⬜ Type definitions and interfaces
3. ⬜ React hooks development
4. ⬜ Data model extension
5. ⬜ Utility functions creation

### Phase 2: Search Architecture (0%)
1. ⬜ Multi-source orchestration
2. ⬜ Source abstraction layer
3. ⬜ Result normalization
4. ⬜ Deduplication logic
5. ⬜ Configuration setup

### Phase 3: UI Integration (0%)
1. ⬜ Search filter updates
2. ⬜ Paper card enhancements
3. ⬜ Source badge implementation
4. ⬜ Citation display
5. ⬜ Venue information

### Phase 4: Advanced Features (0%)
1. ⬜ Cross-source linking
2. ⬜ Citation-based sorting
3. ⬜ Related papers
4. ⬜ Enhanced filtering
5. ⬜ Performance optimization

## Testing Strategy

### Unit Tests
- API client functions
- Data mapping utilities
- Deduplication algorithms
- Search orchestration logic

### Integration Tests
- Multi-source search workflows
- UI component behavior
- Error handling scenarios
- Performance benchmarks

### Manual Testing
- Search result quality assessment
- Cross-browser compatibility
- Mobile responsiveness
- User experience validation

## Success Metrics
- API response times < 500ms (95th percentile)
- Search success rate > 99%
- Zero breaking changes to existing functionality
- Increased paper discovery (measured by user engagement)
- Broader search query diversity

## Risk Mitigation
- **Rate Limits**: Implement caching and request optimization
- **Data Quality**: Robust validation and error handling
- **Performance**: Lazy loading and progressive enhancement
- **Complexity**: Feature flags for gradual rollout

## Related Documentation
- [OpenAlex Integration Plan](../implementation-details/openalex-integration-plan.md)
- [API Documentation](https://docs.openalex.org/)
- [Current Search Architecture](../systemPatterns.md)

## Notes
- Maintains backward compatibility with existing arXiv search
- Implements behind feature flag for safe rollout
- Follows KIRSS principles with incremental complexity
- Preserves current user experience while adding new capabilities
